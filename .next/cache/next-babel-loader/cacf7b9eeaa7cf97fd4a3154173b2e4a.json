{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Icon from '../Icon';\nimport parse from 'html-react-parser';\nimport Obfuscate from 'react-obfuscate';\nimport './style.scss';\nvar IMG_WIDTH = 300;\nvar IMG_HEIGHT = 300;\nvar parentPad = 0;\nvar VISIBLEIMAGES = 3;\nvar DURATION = 750;\nexport default function (props) {\n  var _props$imgList = props.imgList,\n      imgList = _props$imgList === void 0 ? [] : _props$imgList,\n      _props$img_width = props.img_width,\n      img_width = _props$img_width === void 0 ? IMG_WIDTH : _props$img_width,\n      _props$img_height = props.img_height,\n      img_height = _props$img_height === void 0 ? IMG_HEIGHT : _props$img_height,\n      _props$visibleImages = props.visibleImages,\n      visibleImages = _props$visibleImages === void 0 ? VISIBLEIMAGES : _props$visibleImages,\n      _props$duration = props.duration,\n      duration = _props$duration === void 0 ? DURATION : _props$duration,\n      _props$autoNext = props.autoNext,\n      autoNext = _props$autoNext === void 0 ? false : _props$autoNext,\n      _props$timeForNext = props.timeForNext,\n      timeForNext = _props$timeForNext === void 0 ? 3000 : _props$timeForNext;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      currFirstImg = _React$useState2[0],\n      setCurrFirstImg = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      actualFirst = _React$useState4[0],\n      setActualFirst = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    order: [],\n    styles: {}\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      visibleItemsProps = _React$useState6[0],\n      setVisibleItemsProps = _React$useState6[1];\n\n  var currMiddleImgRef = React.useRef(0);\n  var intervalRef = React.useRef(0);\n  var imgDifference = React.useRef(1);\n  var durationRef = React.useRef(duration);\n  var wrapper = React.useRef();\n  var parentHeight = img_height + 2 * parentPad;\n  var parentWidth = img_width * 3;\n  var elementsInLeft = Math.ceil(visibleImages / 2);\n  var elementsInRight = visibleImages - elementsInLeft;\n\n  var changeCenter = function changeCenter(_ref) {\n    var event = _ref.event,\n        index = _ref.index;\n    var currFirstImgIndex = visibleItemsProps.order.indexOf(currFirstImg);\n    var prevIndex = visibleItemsProps.order[currFirstImgIndex - 1];\n    var nextIndex = visibleItemsProps.order[currFirstImgIndex + 1];\n\n    if (index !== currFirstImg) {\n      if (index === prevIndex || index === nextIndex) {\n        setCurrFirstImg(index);\n      } else {\n        var val = currFirstImgIndex - visibleItemsProps.order.indexOf(index);\n        imgDifference.current = Math.abs(val);\n        setActualFirst(index);\n        cycleToNextImage(index);\n      }\n    } else {\n      null;\n    }\n  };\n\n  var cycleToNextImage = function cycleToNextImage(actual) {\n    if (visibleItemsProps.order.indexOf(currMiddleImgRef.current) > visibleItemsProps.order.indexOf(actual)) {\n      // Right side image click\n      currMiddleImgRef.current = currMiddleImgRef.current - 1 > -1 ? currMiddleImgRef.current - 1 : imgList.length - 1; // Right side image click\n\n      setCurrFirstImg(currMiddleImgRef.current);\n    } else {\n      // Left side image click\n      currMiddleImgRef.current = currMiddleImgRef.current + 1 < imgList.length ? currMiddleImgRef.current + 1 : 0; // Conditions to handle cycle\n\n      setCurrFirstImg(currMiddleImgRef.current);\n    }\n  };\n\n  var gapBetween = props.name === 'team' ? 4 : 4.4;\n\n  var constructVisibleItemsProps = function constructVisibleItemsProps() {\n    var visibleItemsProps = {}; // To store config for items that are visibile in the carousel\n\n    visibleItemsProps.order = [];\n    var curr_center = currFirstImg; // Storing the Current Middle element in focus\n\n    var timesToIterate = 0; // To iterate through all visible number of images.\n\n    var zIndex = -elementsInRight; // We start from left to right and Zindex has to keep on increasing till middle then has to reduce.\n\n    var xTranslate = img_width; // To move the element with respect to x axis\n\n    var zTranslate = 0; // To reduce image size for images apart from center\n\n    var opacity = 1; // ARALIKLAR BURADA = 4\n\n    var division = img_width * (4.4 / elementsInLeft); // Specifies the length that next image has to move away from with respect to current image (1.6 times the current image)\n\n    var opacityDivider = 1 / elementsInRight; // minimum opacity should be 0.3 (1-0.7)\n\n    var rightEltCount = elementsInRight;\n    var leftEltCount = elementsInLeft; // including middle element\n\n    var curr_center_copy = curr_center;\n\n    while (timesToIterate < visibleImages) {\n      var styles = {};\n      var currImgIndex = void 0;\n      var currImgIndexOnRight = true; // Tells if in this iteration the currently iterated image lies left to the middle image or not\n      // To set properties for elements in right side\n\n      if (timesToIterate < elementsInRight) {\n        var nextIndex = curr_center - rightEltCount;\n        currImgIndex = nextIndex > -1 ? nextIndex : imgList.length - Math.abs(nextIndex); // Gives the rightmost elemnt in first iteration and then the subsequent elements down the iteration\n\n        opacity = 1 - opacityDivider * rightEltCount; // To assign lowest opacity to last element and increaing it till we come to middle\n\n        zTranslate = -division * rightEltCount; // To increase the size of the images subsequently from last to middle\n\n        xTranslate = img_width - division * rightEltCount; // X coordinate position\n\n        rightEltCount--;\n      } else {\n        // To set properties for elements in center and to left of it. All props behaves similar to right\n        currImgIndexOnRight = false;\n        currImgIndex = curr_center_copy;\n\n        if (curr_center_copy + 1 >= imgList.length) {\n          // to maintain cyclic carousel\n          curr_center_copy = 0;\n        } else {\n          curr_center_copy++;\n        }\n\n        opacity = 1 - opacityDivider * Math.abs(leftEltCount - (timesToIterate + 1));\n        zTranslate = -division * Math.abs(leftEltCount - (timesToIterate + 1));\n        xTranslate = img_width + division * Math.abs(leftEltCount - (timesToIterate + 1));\n      } // Assigning above calculated values to 'styles' object\n\n\n      styles.transform = 'translateX(' + xTranslate + 'px) translateZ(' + zTranslate + 'px)';\n      styles.opacity = opacity;\n      styles.zIndex = currImgIndexOnRight ? zIndex++ : zIndex--; // To reduce zIndex while going through left elements\n\n      visibleItemsProps.order.push(currImgIndex); // Push the current image number in the orders array\n\n      visibleItemsProps[currImgIndex] = {\n        styles: styles\n      }; // pushing all previously created styles\n\n      timesToIterate++;\n    }\n\n    durationRef.current = actualFirst === '' ? duration : duration / imgDifference.current; // duration will be user given if he clicks next image or\n    // we divide the duration by number of images skipped\n\n    setVisibleItemsProps(visibleItemsProps); // setting state for visible items\n  };\n\n  React.useEffect(function () {\n    clearInterval(intervalRef.current);\n\n    if (actualFirst !== '') {\n      intervalRef.current = setInterval(function () {\n        if (actualFirst !== '' && actualFirst !== currMiddleImgRef.current) {\n          // If the currentimage in middle is not actually clicked image then gotoNext image\n          cycleToNextImage(actualFirst);\n        } else if (actualFirst !== '' && actualFirst === currMiddleImgRef.current) {\n          setActualFirst('');\n          imgDifference.current = 1;\n          clearInterval(intervalRef.current); // If actual clicked and middle image are same we are all set to clear intervals, as they are unnecessary now\n        }\n      }, durationRef.current - 100); // Introduced an advance of 100ms to begin bringing nextimage\n      // to middle before the previous one settles down else it looks jerky\n    }\n  }, [actualFirst]);\n  React.useEffect(function () {\n    constructVisibleItemsProps(); // This constructs all css properties to the elements in visibility\n\n    currMiddleImgRef.current = currFirstImg; // Need to set it here as well so while accessing inside interval it will have the latest value\n  }, [currFirstImg]);\n  React.useEffect(function () {\n    if (autoNext) {\n      setInterval(function () {\n        var nextImg = currMiddleImgRef.current + 1 < imgList.length ? currMiddleImgRef.current + 1 : 0;\n        setCurrFirstImg(nextImg);\n      }, timeForNext);\n    }\n  }, []);\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      middleImageKey = _React$useState8[0],\n      setMiddleImageKey = _React$useState8[1];\n\n  var loadCarousel = function loadCarousel() {\n    return __jsx(\"div\", {\n      className: \"carousel__3D carousel__3D--\".concat(props.name)\n    }, __jsx(\"ul\", {\n      ref: wrapper,\n      className: \"carousel__wrapper\",\n      style: {\n        height: parentHeight + 'px',\n        width: parentWidth + 'px',\n        padding: parentPad + 'px',\n        perspective: '500px'\n      }\n    }, imgList.map(function (image, index) {\n      var displayNone = visibleItemsProps.order.indexOf(index) === -1; // To not to show images that are out of visibility scope\n\n      var styles = visibleItemsProps[index] ? visibleItemsProps[index].styles : {};\n      return __jsx(\"li\", {\n        key: index,\n        className: 'carousel__item ' + (displayNone ? 'd-none' : ''),\n        style: _objectSpread({}, styles, {\n          position: 'absolute',\n          transition: \"all \".concat(durationRef.current, \"ms ease \")\n        }),\n        onClick: function onClick(e) {\n          changeCenter({\n            e: e,\n            index: index\n          });\n          setMiddleImageKey(index);\n        }\n      }, __jsx(\"img\", {\n        src: image,\n        alt: 'img',\n        width: img_width,\n        height: img_height\n      }));\n    })), __jsx(\"div\", {\n      className: \"carousel__infos carousel__infos--\".concat(props.name)\n    }, props.name === \"team\" ? props.data.map(function (item, key) {\n      return key === middleImageKey && __jsx(\"div\", {\n        key: key,\n        className: \"infos__item\"\n      }, __jsx(\"h3\", null, item.mitarbeiter_name), __jsx(\"h4\", null, item.mitarbeiter_titel), __jsx(Obfuscate, {\n        email: item.mitarbeiter_email\n      }), __jsx(Obfuscate, {\n        tel: item.mitarbeiter_telefon\n      }));\n    }) : props.data.map(function (item, key) {\n      return key === middleImageKey && __jsx(\"div\", {\n        key: key,\n        className: \"infos__item infos__item--downloads\"\n      }, __jsx(\"h4\", null, item.name), __jsx(\"a\", {\n        href: item.link,\n        target: \"_blank\",\n        className: \"singleloc__button\"\n      }, __jsx(Icon, {\n        type: \"factsheet\",\n        name: \"DOWNLOAD\"\n      })));\n    })), props.name === \"downloads\" && __jsx(\"div\", {\n      className: \"download__section--factsheet\"\n    }, __jsx(\"h2\", null, \"Factsheets\"), parse(props.content.Inhalt)));\n  };\n\n  return __jsx(React.Fragment, null, loadCarousel());\n}","map":{"version":3,"sources":["/Users/fatih/repos/goldendoor-next/components/carousel/index.js"],"names":["Icon","parse","Obfuscate","IMG_WIDTH","IMG_HEIGHT","parentPad","VISIBLEIMAGES","DURATION","props","imgList","img_width","img_height","visibleImages","duration","autoNext","timeForNext","React","useState","currFirstImg","setCurrFirstImg","actualFirst","setActualFirst","order","styles","visibleItemsProps","setVisibleItemsProps","currMiddleImgRef","useRef","intervalRef","imgDifference","durationRef","wrapper","parentHeight","parentWidth","elementsInLeft","Math","ceil","elementsInRight","changeCenter","event","index","currFirstImgIndex","indexOf","prevIndex","nextIndex","val","current","abs","cycleToNextImage","actual","length","gapBetween","name","constructVisibleItemsProps","curr_center","timesToIterate","zIndex","xTranslate","zTranslate","opacity","division","opacityDivider","rightEltCount","leftEltCount","curr_center_copy","currImgIndex","currImgIndexOnRight","transform","push","useEffect","clearInterval","setInterval","nextImg","middleImageKey","setMiddleImageKey","loadCarousel","height","width","padding","perspective","map","image","displayNone","position","transition","e","data","item","key","mitarbeiter_name","mitarbeiter_titel","mitarbeiter_email","mitarbeiter_telefon","link","content","Inhalt"],"mappings":"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","sourcesContent":["import Icon from '../Icon';\nimport parse from 'html-react-parser';\nimport Obfuscate from 'react-obfuscate';\nimport './style.scss';\n\nconst IMG_WIDTH = 300;\nconst IMG_HEIGHT = 300;\nconst parentPad = 0;\nconst VISIBLEIMAGES = 3;\nconst DURATION = 750;\n\nexport default function (props) {\n\tconst {\n\t\timgList = [],\n\t\timg_width = IMG_WIDTH,\n\t\timg_height = IMG_HEIGHT,\n\t\tvisibleImages = VISIBLEIMAGES,\n\t\tduration = DURATION,\n\t\tautoNext = false,\n\t\ttimeForNext = 3000\n\t} = props;\n\n\tconst [currFirstImg, setCurrFirstImg] = React.useState(0);\n\tconst [actualFirst, setActualFirst] = React.useState('');\n\tconst [visibleItemsProps, setVisibleItemsProps] = React.useState({ order: [], styles: {} });\n\tconst currMiddleImgRef = React.useRef(0);\n\tconst intervalRef = React.useRef(0);\n\tconst imgDifference = React.useRef(1);\n\tconst durationRef = React.useRef(duration);\n\tconst wrapper = React.useRef();\n\n\tconst parentHeight = img_height + 2 * parentPad;\n\tconst parentWidth = img_width * 3;\n\tconst elementsInLeft = Math.ceil(visibleImages / 2);\n\tconst elementsInRight = visibleImages - elementsInLeft;\n\n\tconst changeCenter = ({ event, index }) => {\n\t\tconst currFirstImgIndex = visibleItemsProps.order.indexOf(currFirstImg);\n\t\tconst prevIndex = visibleItemsProps.order[currFirstImgIndex - 1];\n\t\tconst nextIndex = visibleItemsProps.order[currFirstImgIndex + 1];\n\t\tif (index !== currFirstImg) {\n\t\t\tif (index === prevIndex || index === nextIndex) {\n\t\t\t\tsetCurrFirstImg(index);\n\t\t\t} else {\n\t\t\t\tconst val = currFirstImgIndex - visibleItemsProps.order.indexOf(index);\n\t\t\t\timgDifference.current = Math.abs(val);\n\t\t\t\tsetActualFirst(index);\n\t\t\t\tcycleToNextImage(index);\n\t\t\t}\n\t\t} else {\n\t\t\tnull;\n\t\t}\n\t}\n\n\tconst cycleToNextImage = (actual) => {\n\t\tif (visibleItemsProps.order.indexOf(currMiddleImgRef.current) > visibleItemsProps.order.indexOf(actual)) {\n\t\t\t// Right side image click\n\t\t\tcurrMiddleImgRef.current = currMiddleImgRef.current - 1 > -1 ? currMiddleImgRef.current - 1 : imgList.length - 1;\n\t\t\t// Right side image click\n\t\t\tsetCurrFirstImg(currMiddleImgRef.current);\n\t\t} else {\n\t\t\t// Left side image click\n\t\t\tcurrMiddleImgRef.current = (currMiddleImgRef.current + 1) < imgList.length ? (currMiddleImgRef.current + 1) : 0;\n\t\t\t// Conditions to handle cycle\n\t\t\tsetCurrFirstImg(currMiddleImgRef.current);\n\t\t}\n\t}\n\tconst gapBetween = props.name === 'team' ? 4 : 4.4 \n\tconst constructVisibleItemsProps = () => {\n\t\tconst visibleItemsProps = {};\n\t\t// To store config for items that are visibile in the carousel\n\t\tvisibleItemsProps.order = [];\n\t\tlet curr_center = currFirstImg;\n\t\t// Storing the Current Middle element in focus\n\t\tlet timesToIterate = 0;\n\t\t// To iterate through all visible number of images.\n\t\tlet zIndex = - elementsInRight;\n\t\t// We start from left to right and Zindex has to keep on increasing till middle then has to reduce.\n\t\tlet xTranslate = img_width;\n\t\t// To move the element with respect to x axis\n\t\tlet zTranslate = 0;\n\t\t// To reduce image size for images apart from center\n\t\tlet opacity = 1;\n\t\t// ARALIKLAR BURADA = 4\n\t\tconst division = (img_width * (4.4 / elementsInLeft));\n\t\t// Specifies the length that next image has to move away from with respect to current image (1.6 times the current image)\n\t\tlet opacityDivider = (1 / elementsInRight);\n\t\t// minimum opacity should be 0.3 (1-0.7)\n\t\tlet rightEltCount = elementsInRight;\n\t\tlet leftEltCount = elementsInLeft;\n\t\t// including middle element\n\t\tlet curr_center_copy = curr_center;\n\n\t\twhile (timesToIterate < visibleImages) {\n\t\t\tconst styles = {};\n\t\t\tlet currImgIndex;\n\t\t\tlet currImgIndexOnRight = true;\n\t\t\t// Tells if in this iteration the currently iterated image lies left to the middle image or not\n\n\t\t\t// To set properties for elements in right side\n\t\t\tif (timesToIterate < elementsInRight) {\n\t\t\t\tconst nextIndex = curr_center - (rightEltCount);\n\t\t\t\tcurrImgIndex = nextIndex > -1 ? nextIndex : imgList.length - Math.abs(nextIndex);\n\t\t\t\t// Gives the rightmost elemnt in first iteration and then the subsequent elements down the iteration\n\t\t\t\topacity = 1 - (opacityDivider * rightEltCount);\n\t\t\t\t// To assign lowest opacity to last element and increaing it till we come to middle\n\t\t\t\tzTranslate = -division * rightEltCount;\n\t\t\t\t// To increase the size of the images subsequently from last to middle\n\t\t\t\txTranslate = img_width - (division * rightEltCount);\n\t\t\t\t// X coordinate position\n\t\t\t\trightEltCount--;\n\t\t\t} else {\n\t\t\t\t// To set properties for elements in center and to left of it. All props behaves similar to right\n\t\t\t\tcurrImgIndexOnRight = false;\n\t\t\t\tcurrImgIndex = curr_center_copy;\n\t\t\t\tif (curr_center_copy + 1 >= imgList.length) {\n\t\t\t\t\t// to maintain cyclic carousel\n\t\t\t\t\tcurr_center_copy = 0;\n\t\t\t\t} else {\n\t\t\t\t\tcurr_center_copy++;\n\t\t\t\t}\n\t\t\t\topacity = 1 - (opacityDivider * Math.abs(leftEltCount - (timesToIterate + 1)));\n\t\t\t\tzTranslate = - division * Math.abs(leftEltCount - (timesToIterate + 1));\n\t\t\t\txTranslate = img_width + division * Math.abs(leftEltCount - (timesToIterate + 1));\n\t\t\t}\n\n\t\t\t// Assigning above calculated values to 'styles' object\n\t\t\tstyles.transform = 'translateX(' + xTranslate + 'px) translateZ(' + zTranslate + 'px)';\n\t\t\tstyles.opacity = opacity;\n\t\t\tstyles.zIndex = currImgIndexOnRight ? zIndex++ : zIndex--;\n\t\t\t// To reduce zIndex while going through left elements\n\t\t\tvisibleItemsProps.order.push(currImgIndex);\n\t\t\t// Push the current image number in the orders array\n\t\t\tvisibleItemsProps[currImgIndex] = { styles };\n\t\t\t// pushing all previously created styles\n\t\t\ttimesToIterate++;\n\t\t}\n\t\tdurationRef.current = actualFirst === '' ? duration : ((duration / imgDifference.current));\n\t\t// duration will be user given if he clicks next image or\n\t\t// we divide the duration by number of images skipped\n\t\tsetVisibleItemsProps(visibleItemsProps);\n\t\t// setting state for visible items\n\t}\n\n\tReact.useEffect(() => {\n\t\tclearInterval(intervalRef.current);\n\t\tif (actualFirst !== '') {\n\t\t\tintervalRef.current = setInterval(() => {\n\t\t\t\tif (actualFirst !== '' && actualFirst !== currMiddleImgRef.current) {\n\t\t\t\t\t// If the currentimage in middle is not actually clicked image then gotoNext image\n\t\t\t\t\tcycleToNextImage(actualFirst);\n\t\t\t\t} else if (actualFirst !== '' && actualFirst === currMiddleImgRef.current) {\n\t\t\t\t\tsetActualFirst('');\n\t\t\t\t\timgDifference.current = 1;\n\t\t\t\t\tclearInterval(intervalRef.current);\n\t\t\t\t\t// If actual clicked and middle image are same we are all set to clear intervals, as they are unnecessary now\n\t\t\t\t}\n\t\t\t}, durationRef.current - 100);\n\t\t\t// Introduced an advance of 100ms to begin bringing nextimage\n\t\t\t// to middle before the previous one settles down else it looks jerky\n\t\t}\n\t}, [actualFirst]);\n\n\tReact.useEffect(() => {\n\t\tconstructVisibleItemsProps();\n\t\t// This constructs all css properties to the elements in visibility\n\t\tcurrMiddleImgRef.current = currFirstImg;\n\t\t// Need to set it here as well so while accessing inside interval it will have the latest value\n\t}, [currFirstImg]);\n\n\tReact.useEffect(() => {\n\t\tif (autoNext) {\n\t\t\tsetInterval(() => {\n\t\t\t\tconst nextImg = currMiddleImgRef.current + 1 < imgList.length ? currMiddleImgRef.current + 1 : 0;\n\t\t\t\tsetCurrFirstImg(nextImg);\n\t\t\t}, timeForNext);\n\t\t}\n\t}, []);\n\n\tconst [middleImageKey, setMiddleImageKey] = React.useState(0);\n\n\tconst loadCarousel = () => {\n\t\treturn (\n\t\t\t<div className={`carousel__3D carousel__3D--${props.name}`}>\n\t\t\t\t<ul ref={wrapper}\n\t\t\t\t\tclassName=\"carousel__wrapper\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: parentHeight + 'px',\n\t\t\t\t\t\twidth: parentWidth + 'px',\n\t\t\t\t\t\tpadding: parentPad + 'px',\n\t\t\t\t\t\tperspective: '500px'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{\n\t\t\t\t\t\timgList.map((image, index) => {\n\t\t\t\t\t\t\tconst displayNone = visibleItemsProps.order.indexOf(index) === -1;\n\t\t\t\t\t\t\t// To not to show images that are out of visibility scope\n\t\t\t\t\t\t\tconst styles = visibleItemsProps[index] ? visibleItemsProps[index].styles : {};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={index}\n\t\t\t\t\t\t\t\t\tclassName={'carousel__item ' + (displayNone ? 'd-none' : '')}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t...styles,\n\t\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\t\ttransition: `all ${durationRef.current}ms ease `\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\tchangeCenter({ e, index })\n\t\t\t\t\t\t\t\t\t\tsetMiddleImageKey(index)\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t<img src={image} alt={'img'} width={img_width} height={img_height} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t\t<div\n\t\t\t\t\tclassName={`carousel__infos carousel__infos--${props.name}`}>\n\t\t\t\t\t{props.name === \"team\"\n\n\t\t\t\t\t\t? (\n\n\t\t\t\t\t\t\tprops.data.map((item, key) => (\n\t\t\t\t\t\t\t\tkey === middleImageKey &&\n\t\t\t\t\t\t\t\t<div key={key} className=\"infos__item\">\n\t\t\t\t\t\t\t\t\t<h3>{item.mitarbeiter_name}</h3>\n\t\t\t\t\t\t\t\t\t<h4>{item.mitarbeiter_titel}</h4>\n\t\t\t\t\t\t\t\t\t<Obfuscate email={item.mitarbeiter_email} />\n\t\t\t\t\t\t\t\t\t<Obfuscate tel={item.mitarbeiter_telefon} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\n\t\t\t\t\t\t) : (\n\n\t\t\t\t\t\t\tprops.data.map((item, key) => (\n\t\t\t\t\t\t\t\tkey === middleImageKey &&\n\t\t\t\t\t\t\t\t<div key={key} className=\"infos__item infos__item--downloads\">\n\t\t\t\t\t\t\t\t\t<h4>{item.name}</h4>\n\t\t\t\t\t\t\t\t\t<a href={item.link} target=\"_blank\" className=\"singleloc__button\">\n\t\t\t\t\t\t\t\t\t\t<Icon type=\"factsheet\" name=\"DOWNLOAD\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\n\t\t\t\t\t\t)\n\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t\t{\n\t\t\t\t\tprops.name === \"downloads\" &&\n\t\t\t\t\t<div className=\"download__section--factsheet\">\n\t\t\t\t\t\t<h2>Factsheets</h2>\n\t\t\t\t\t\t{parse(props.content.Inhalt)}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loadCarousel()}\n\t\t</>\n\t);\n}"]},"metadata":{},"sourceType":"module"}