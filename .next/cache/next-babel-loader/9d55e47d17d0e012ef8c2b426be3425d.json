{"ast":null,"code":"import _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fatih/repos/goldendoor-next/components/templates/downloads/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Breadcrumb from '../../Breadcrumb';\nimport serialize from 'serialize-javascript';\nimport { NextSeo } from 'next-seo';\nimport { useForm } from 'react-hook-form';\nimport parse from 'html-react-parser';\nimport Carousel from '../../carousel';\nimport Icon from '../../Icon';\nimport './style.scss';\nexport default function (_ref) {\n  var data = _ref.data,\n      language = _ref.language;\n  var formFields = data.fields.kontaktform;\n  console.log(formFields);\n  var images = data.fields.factsheets.factsheet_bearbeitung.map(function (item) {\n    return item.factsheet_bild;\n  });\n  var pdfData = data.fields.factsheets.factsheet_bearbeitung.map(function (item) {\n    return {\n      name: item.factsheet_name,\n      link: item.factsheet_dokument\n    };\n  });\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      register = _useForm.register,\n      errors = _useForm.errors;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      submitted = _React$useState2[0],\n      setSubmitted = _React$useState2[1];\n\n  var onSubmit = function onSubmit(data) {\n    var formData = {\n      lang: language,\n      contactType: \"keyRequest\",\n      name: language === 'de' ? data.bewerbung_vorname : data.bewerbung_name,\n      surname: language === 'de' ? data.bewerbung_name : data.bewerbung_surname,\n      email: data.bewerbung_email\n    };\n    fetch('/api/kontakt', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: serialize(formData)\n    }).then(function (res) {\n      res.status === 200 ? setSubmitted(!submitted) : '';\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: data.fields.seo.title,\n    description: data.fields.seo.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"page__title page__title--downloads\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, __jsx(Breadcrumb, {\n    slug: data.slug,\n    title: data.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }), __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, data.title)), __jsx(Carousel, {\n    name: \"downloads\",\n    data: pdfData,\n    content: data.fields.factsheets,\n    imgList: images,\n    img_width: 250,\n    img_height: 180,\n    visibleImages: 5,\n    duration: 750,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"presskit\",\n    id: \"presskit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__blocks\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Presskit\"), parse(data.fields.presskit.inhalt)), __jsx(\"div\", {\n    className: \"presskit__block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, _Object$entries(data.fields.presskit.bearbeitung).map(function (item, key) {\n    return __jsx(\"a\", {\n      key: key,\n      href: item[1],\n      target: \"_blank\",\n      className: \"singleloc__button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, __jsx(Icon, {\n      type: \"factsheet\",\n      name: item[0].split('_').length > 1 ? \"\".concat(item[0].split('_')[0], \" \").concat(item[0].split('_')[1]) : item[0],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }))), __jsx(\"div\", {\n    className: \"presskit__formblock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    className: \"presskit__form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, formFields.etiketten.vorname, __jsx(\"input\", {\n    className: \"input__text\",\n    type: \"text\",\n    name: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, formFields.etiketten.name, __jsx(\"input\", {\n    className: \"input__text\",\n    type: \"text\",\n    name: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, formFields.etiketten.email, __jsx(\"input\", {\n    className: \"input__text\",\n    type: \"email\",\n    name: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })))))));\n}\n;","map":{"version":3,"sources":["/Users/fatih/repos/goldendoor-next/components/templates/downloads/index.js"],"names":["Breadcrumb","serialize","NextSeo","useForm","parse","Carousel","Icon","data","language","formFields","fields","kontaktform","console","log","images","factsheets","factsheet_bearbeitung","map","item","factsheet_bild","pdfData","name","factsheet_name","link","factsheet_dokument","handleSubmit","register","errors","React","useState","submitted","setSubmitted","onSubmit","formData","lang","contactType","bewerbung_vorname","bewerbung_name","surname","bewerbung_surname","email","bewerbung_email","fetch","method","headers","body","then","res","status","err","seo","title","description","slug","presskit","inhalt","bearbeitung","key","split","length","etiketten","vorname"],"mappings":"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","sourcesContent":["import Breadcrumb from '../../Breadcrumb';\nimport serialize from 'serialize-javascript';\nimport { NextSeo } from 'next-seo';\nimport { useForm } from 'react-hook-form';\nimport parse from 'html-react-parser';\nimport Carousel from '../../carousel'\nimport Icon from '../../Icon';\nimport './style.scss';\n\nexport default function ({ data, language }) {\n\n\tconst formFields = data.fields.kontaktform;\n\tconsole.log(formFields)\n\n\tconst images = data.fields.factsheets.factsheet_bearbeitung.map(item => (\n\t\titem.factsheet_bild\n\t));\n\tconst pdfData = data.fields.factsheets.factsheet_bearbeitung.map(item => (\n\t\t{ name: item.factsheet_name, link: item.factsheet_dokument }\n\t));\n\n\tconst { handleSubmit, register, errors } = useForm();\n\n\tconst [submitted, setSubmitted] = React.useState(false);\n\n\tconst onSubmit = data => {\n\t\tconst formData = {\n\t\t\tlang: language,\n\t\t\tcontactType: \"keyRequest\",\n\t\t\tname: language === 'de' ? data.bewerbung_vorname : data.bewerbung_name,\n\t\t\tsurname: language === 'de' ? data.bewerbung_name : data.bewerbung_surname,\n\t\t\temail: data.bewerbung_email,\n\t\t}\n\n\t\tfetch('/api/kontakt', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json, text/plain, */*',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: serialize(formData)\n\t\t}).then((res) => {\n\t\t\tres.status === 200 ? setSubmitted(!submitted) : ''\n\t\t}).catch((err) => console.log(err))\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<NextSeo\n\t\t\t\ttitle={data.fields.seo.title}\n\t\t\t\tdescription={data.fields.seo.description}\n\t\t\t/>\n\t\t\t<div className=\"page__title page__title--downloads\">\n\t\t\t\t<Breadcrumb\n\t\t\t\t\tslug={data.slug}\n\t\t\t\t\ttitle={data.title} />\n\t\t\t\t<h1>{data.title}</h1>\n\t\t\t</div>\n\t\t\t<Carousel\n\t\t\t\tname=\"downloads\"\n\t\t\t\tdata={pdfData}\n\t\t\t\tcontent={data.fields.factsheets}\n\t\t\t\timgList={images}\n\t\t\t\timg_width={250}\n\t\t\t\timg_height={180}\n\t\t\t\tvisibleImages={5}\n\t\t\t\tduration={750}\n\t\t\t/>\n\t\t\t<div className=\"presskit\" id=\"presskit\">\n\t\t\t\t<div className=\"presskit__blocks\">\n\t\t\t\t\t<div className=\"presskit__block\">\n\t\t\t\t\t\t<h2>Presskit</h2>\n\t\t\t\t\t\t{parse(data.fields.presskit.inhalt)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"presskit__block\">\n\t\t\t\t\t\t{Object.entries(data.fields.presskit.bearbeitung).map((item, key) => (\n\n\t\t\t\t\t\t\t<a key={key} href={item[1]} target=\"_blank\" className=\"singleloc__button\">\n\t\t\t\t\t\t\t\t<Icon type=\"factsheet\" name={item[0].split('_').length > 1 ? `${item[0].split('_')[0]} ${item[0].split('_')[1]}` : item[0]} />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"presskit__formblock\">\n\t\t\t\t\t<form onSubmit={handleSubmit(onSubmit)} className=\"presskit__form\">\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"name\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.vorname}\n\t\t\t\t\t\t\t\t<input className=\"input__text\" type=\"text\" name=\"name\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"surname\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.name}\n\t\t\t\t\t\t\t\t<input className=\"input__text\" type=\"text\" name=\"surname\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"email\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.email}\n\t\t\t\t\t\t\t\t<input className=\"input__text\" type=\"email\" name=\"email\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t)\n};"]},"metadata":{},"sourceType":"module"}