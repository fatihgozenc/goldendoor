{"ast":null,"code":"import _Object$entries from \"@babel/runtime-corejs2/core-js/object/entries\";\nvar _jsxFileName = \"/Users/fatih/repos/goldendoor-next/components/templates/downloads/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Breadcrumb from '../../Breadcrumb';\nimport serialize from 'serialize-javascript';\nimport { NextSeo } from 'next-seo';\nimport { useForm } from 'react-hook-form';\nimport SendingQuery from '../../SendingQuery';\nimport parse from 'html-react-parser';\nimport Carousel from '../../carousel';\nimport Icon from '../../Icon';\nimport './style.scss';\nexport default function ({\n  data,\n  language\n}) {\n  const formFields = data.fields.kontaktform;\n  const images = data.fields.factsheets.factsheet_bearbeitung.map(item => item.factsheet_bild);\n  const pdfData = data.fields.factsheets.factsheet_bearbeitung.map(item => ({\n    name: item.factsheet_name,\n    link: item.factsheet_dokument\n  }));\n  const successBlock = React.useRef();\n  const presskitForm = React.useRef();\n  const {\n    handleSubmit,\n    register,\n    errors\n  } = useForm();\n  const [submitted, setSubmitted] = React.useState(false);\n\n  const onSubmit = data => {\n    const formData = {\n      lang: language,\n      contactType: \"keyRequest\",\n      name: data.name,\n      surname: data.surname,\n      email: data.email\n    };\n    fetch('/api/kontakt', {\n      method: 'post',\n      headers: {\n        'Accept': 'application/json, text/plain, */*',\n        'Content-Type': 'application/json'\n      },\n      body: serialize(formData)\n    }).then(res => {\n      res.status === 200 ? setSubmitted(!submitted) : '';\n    }).catch(err => console.log(err));\n  };\n\n  React.useEffect(() => {\n    if (submitted) {\n      presskitForm.current.classList.add('hideForm');\n      successBlock.current.classList.add('showSuccess');\n    }\n  }, [submitted]);\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: data.fields.seo.title,\n    description: data.fields.seo.description,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"page__title page__title--downloads\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, __jsx(Breadcrumb, {\n    slug: data.slug,\n    title: data.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, data.title)), __jsx(Carousel, {\n    name: \"downloads\",\n    data: pdfData,\n    content: data.fields.factsheets,\n    imgList: images,\n    img_width: 250,\n    img_height: 180,\n    visibleImages: 5,\n    duration: 750,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"presskit\",\n    id: \"presskit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__blocks\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Presskit\"), parse(data.fields.presskit.inhalt)), __jsx(\"div\", {\n    className: \"presskit__block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, _Object$entries(data.fields.presskit.bearbeitung).map((item, key) => __jsx(\"a\", {\n    key: key,\n    href: item[1],\n    target: \"_blank\",\n    className: \"singleloc__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, __jsx(Icon, {\n    type: \"factsheet\",\n    name: item[0].split('_').length > 1 ? `${item[0].split('_')[0]} ${item[0].split('_')[1]}` : item[0],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }))))), __jsx(\"div\", {\n    className: \"presskit__formblock\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    ref: presskitForm,\n    onSubmit: handleSubmit(onSubmit),\n    className: \"presskit__form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, formFields.etiketten.vorname, __jsx(\"input\", {\n    ref: register({\n      required: true,\n      maxlength: 20,\n      pattern: /^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u\n    }),\n    className: \"input__text\",\n    type: \"text\",\n    name: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, formFields.etiketten.name, __jsx(\"input\", {\n    ref: register({\n      required: true,\n      maxlength: 20,\n      pattern: /^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u\n    }),\n    className: \"input__text\",\n    type: \"text\",\n    name: \"surname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__text\",\n    htmlFor: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, formFields.etiketten.email, __jsx(\"input\", {\n    ref: register({\n      required: true,\n      pattern: {\n        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n        message: `UNGÜLTIGE E-MAIL-ADRESSE`\n      }\n    }),\n    className: \"input__text\",\n    type: \"email\",\n    name: \"email\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    className: \"label__radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Dtenschutz\"), __jsx(\"input\", {\n    ref: register({\n      required: true\n    }),\n    type: \"radio\",\n    className: \"input__radio\",\n    name: \"acceptance\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }), __jsx(\"span\", {\n    className: \"label__radio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, parse(formFields.datenschutz))), __jsx(\"div\", {\n    className: \"presskit__form--item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    className: \"golden__button\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, formFields.button))), __jsx(\"div\", {\n    className: \"contact__success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    ref: successBlock,\n    className: \"contact__success--wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, submitted && __jsx(SendingQuery, {\n    color: \"#C2AC84\",\n    message: language == 'de' ? 'Ihre Anfrage wurde gesendet. Vielen Dank für Ihre Kontaktaufnahme.' : 'Your request has been sent, thank you for contacting us.',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }))))));\n}\n;","map":{"version":3,"sources":["/Users/fatih/repos/goldendoor-next/components/templates/downloads/index.js"],"names":["Breadcrumb","serialize","NextSeo","useForm","SendingQuery","parse","Carousel","Icon","data","language","formFields","fields","kontaktform","images","factsheets","factsheet_bearbeitung","map","item","factsheet_bild","pdfData","name","factsheet_name","link","factsheet_dokument","successBlock","React","useRef","presskitForm","handleSubmit","register","errors","submitted","setSubmitted","useState","onSubmit","formData","lang","contactType","surname","email","fetch","method","headers","body","then","res","status","catch","err","console","log","useEffect","current","classList","add","seo","title","description","slug","presskit","inhalt","bearbeitung","key","split","length","etiketten","vorname","required","maxlength","pattern","value","message","datenschutz","button"],"mappings":"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","sourcesContent":["import Breadcrumb from '../../Breadcrumb';\nimport serialize from 'serialize-javascript';\nimport { NextSeo } from 'next-seo';\nimport { useForm } from 'react-hook-form';\nimport SendingQuery from '../../SendingQuery';\nimport parse from 'html-react-parser';\nimport Carousel from '../../carousel'\nimport Icon from '../../Icon';\nimport './style.scss';\n\nexport default function ({ data, language }) {\n\n\tconst formFields = data.fields.kontaktform;\n\n\tconst images = data.fields.factsheets.factsheet_bearbeitung.map(item => (\n\t\titem.factsheet_bild\n\t));\n\tconst pdfData = data.fields.factsheets.factsheet_bearbeitung.map(item => (\n\t\t{ name: item.factsheet_name, link: item.factsheet_dokument }\n\t));\n\n\tconst successBlock = React.useRef();\n\tconst presskitForm = React.useRef();\n\tconst { handleSubmit, register, errors } = useForm();\n\tconst [submitted, setSubmitted] = React.useState(false);\n\n\tconst onSubmit = data => {\n\t\tconst formData = {\n\t\t\tlang: language,\n\t\t\tcontactType: \"keyRequest\",\n\t\t\tname: data.name,\n\t\t\tsurname: data.surname,\n\t\t\temail: data.email,\n\t\t}\n\n\t\tfetch('/api/kontakt', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json, text/plain, */*',\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: serialize(formData)\n\t\t}).then((res) => {\n\t\t\tres.status === 200 ? setSubmitted(!submitted) : ''\n\t\t}).catch((err) => console.log(err))\n\t};\n\n\tReact.useEffect(() => {\n\t\tif (submitted) {\n\t\t\tpresskitForm.current.classList.add('hideForm');\n\t\t\tsuccessBlock.current.classList.add('showSuccess');\n\t\t}\n\t}, [submitted])\n\n\treturn (\n\t\t<>\n\t\t\t<NextSeo\n\t\t\t\ttitle={data.fields.seo.title}\n\t\t\t\tdescription={data.fields.seo.description}\n\t\t\t/>\n\t\t\t<div className=\"page__title page__title--downloads\">\n\t\t\t\t<Breadcrumb\n\t\t\t\t\tslug={data.slug}\n\t\t\t\t\ttitle={data.title} />\n\t\t\t\t<h1>{data.title}</h1>\n\t\t\t</div>\n\t\t\t<Carousel\n\t\t\t\tname=\"downloads\"\n\t\t\t\tdata={pdfData}\n\t\t\t\tcontent={data.fields.factsheets}\n\t\t\t\timgList={images}\n\t\t\t\timg_width={250}\n\t\t\t\timg_height={180}\n\t\t\t\tvisibleImages={5}\n\t\t\t\tduration={750}\n\t\t\t/>\n\t\t\t<div className=\"presskit\" id=\"presskit\">\n\t\t\t\t<div className=\"presskit__blocks\">\n\t\t\t\t\t<div className=\"presskit__block\">\n\t\t\t\t\t\t<h2>Presskit</h2>\n\t\t\t\t\t\t{parse(data.fields.presskit.inhalt)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"presskit__block\">\n\t\t\t\t\t\t{Object.entries(data.fields.presskit.bearbeitung).map((item, key) => (\n\n\t\t\t\t\t\t\t<a key={key} href={item[1]} target=\"_blank\" className=\"singleloc__button\">\n\t\t\t\t\t\t\t\t<Icon type=\"factsheet\" name={item[0].split('_').length > 1 ? `${item[0].split('_')[0]} ${item[0].split('_')[1]}` : item[0]} />\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"presskit__formblock\">\n\t\t\t\t\t<form ref={presskitForm} onSubmit={handleSubmit(onSubmit)} className=\"presskit__form\">\n\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"name\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.vorname}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmaxlength: 20,\n\t\t\t\t\t\t\t\t\t\tpattern: /^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u\n\t\t\t\t\t\t\t\t\t})} className=\"input__text\" type=\"text\" name=\"name\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"surname\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.name}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tmaxlength: 20,\n\t\t\t\t\t\t\t\t\t\tpattern: /^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u\n\t\t\t\t\t\t\t\t\t})} className=\"input__text\" type=\"text\" name=\"surname\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__text\" htmlFor=\"email\">\n\t\t\t\t\t\t\t\t{formFields.etiketten.email}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t\t\t\tpattern: {\n\t\t\t\t\t\t\t\t\t\t\tvalue: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\n\t\t\t\t\t\t\t\t\t\t\tmessage: `UNGÜLTIGE E-MAIL-ADRESSE`\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})} className=\"input__text\" type=\"email\" name=\"email\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<label className=\"label__radio\">Dtenschutz</label>\n\t\t\t\t\t\t\t<input ref={register({ required: true })} type=\"radio\" className=\"input__radio\" name=\"acceptance\" />\n\t\t\t\t\t\t\t<span className=\"label__radio\">{parse(formFields.datenschutz)}</span>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"presskit__form--item\">\n\t\t\t\t\t\t\t<button className=\"golden__button\" type=\"submit\">{formFields.button}</button>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<div className=\"contact__success\">\n\t\t\t\t\t\t<div ref={successBlock} className=\"contact__success--wrapper\">\n\t\t\t\t\t\t\t{submitted &&\n\t\t\t\t\t\t\t\t<SendingQuery color=\"#C2AC84\"\n\t\t\t\t\t\t\t\t\tmessage={language == 'de' ? 'Ihre Anfrage wurde gesendet. Vielen Dank für Ihre Kontaktaufnahme.' : 'Your request has been sent, thank you for contacting us.'} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t)\n};"]},"metadata":{},"sourceType":"module"}