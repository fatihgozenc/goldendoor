{"ast":null,"code":"var _jsxFileName = \"/home/urbandruid/repos/goldendoor-next/components/loopingGallery/LoopingItem.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Icon from '../Icon';\nconst LoopingItem = React.memo(props => {\n  const imgRatio = Math.round(props.width / props.height * 10000) / 10000;\n  const imgDomWidth = Math.round(props.windowHeight / 5.555 * imgRatio * 100) / 100;\n  const imgRef = React.useRef();\n\n  const openCarousel = e => {\n    const imgID = e.currentTarget.classList[1];\n    const mainContainer = e.currentTarget.parentElement.parentElement.parentElement;\n    mainContainer.lastElementChild.classList.add('show');\n    setTimeout(() => {\n      mainContainer.lastElementChild.classList.add('gallerySliderOpen');\n      setTimeout(() => {\n        mainContainer.lastElementChild.lastElementChild.classList.add('gallerySliderBlockOpen');\n      }, 750);\n    }, 10);\n    const elementInCarousel = mainContainer.lastElementChild.getElementsByClassName(`img-${imgID}`);\n    const elementInCarouselIndex = elementInCarousel[0].getAttribute('slideindex');\n    mainContainer.lastElementChild.lastElementChild.lastElementChild.lastElementChild.children[elementInCarouselIndex].click();\n  };\n\n  React.useEffect(() => {\n    props.measure(imgDomWidth);\n  }, [imgDomWidth, props]);\n  return __jsx(\"div\", {\n    ref: imgRef,\n    className: `looping_gallery_item ${props.id}`,\n    onClick: openCarousel,\n    style: {\n      width: `${imgDomWidth}px`\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    className: \"looping_gallery_item-img\",\n    onLoad: e => e.currentTarget.classList.add('loaded'),\n    src: props.highResUrl,\n    alt: props.alt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), __jsx(\"div\", {\n    className: \"looping_gallery_item-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, __jsx(Icon, {\n    type: \"view\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), __jsx(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props.alt, __jsx(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, props.type))));\n});\nexport default LoopingItem;","map":{"version":3,"sources":["/home/urbandruid/repos/goldendoor-next/components/loopingGallery/LoopingItem.js"],"names":["Icon","LoopingItem","React","memo","props","imgRatio","Math","round","width","height","imgDomWidth","windowHeight","imgRef","useRef","openCarousel","e","imgID","currentTarget","classList","mainContainer","parentElement","lastElementChild","add","setTimeout","elementInCarousel","getElementsByClassName","elementInCarouselIndex","getAttribute","children","click","useEffect","measure","id","highResUrl","alt","type"],"mappings":"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","sourcesContent":["import Icon from '../Icon';\n\nconst LoopingItem = React.memo((props) => {\n\n\tconst imgRatio = Math.round((props.width / props.height) * 10000) / 10000;\n\tconst imgDomWidth = Math.round(( (props.windowHeight / 5.555) * imgRatio) * 100) / 100;\n\n\tconst imgRef = React.useRef();\n\n\tconst openCarousel = (e) => {\n\t\tconst imgID = e.currentTarget.classList[1];\n\t\tconst mainContainer = e.currentTarget.parentElement.parentElement.parentElement;\n\t\tmainContainer.lastElementChild.classList.add('show')\n\t\tsetTimeout(() => {\n\t\t\tmainContainer.lastElementChild.classList.add('gallerySliderOpen')\n\t\t\tsetTimeout(() => {\n\t\t\t\tmainContainer.lastElementChild.lastElementChild.classList.add('gallerySliderBlockOpen')\n\t\t\t}, 750);\n\t\t}, 10);\n\t\tconst elementInCarousel = mainContainer.lastElementChild.getElementsByClassName(`img-${imgID}`);\n\t\tconst elementInCarouselIndex = elementInCarousel[0].getAttribute('slideindex');\n\t\tmainContainer.lastElementChild.lastElementChild.lastElementChild.lastElementChild.children[elementInCarouselIndex].click();\n\t}\n\n\tReact.useEffect(() => {\n\t\tprops.measure(imgDomWidth);\n\t}, [imgDomWidth, props]);\n\n\n\treturn (\n\t\t\t<div ref={imgRef}\n\t\t\t\tclassName={`looping_gallery_item ${props.id}`}\n\t\t\t\tonClick={openCarousel}\n\t\t\t\tstyle={{ width: `${imgDomWidth}px` }}>\n\t\t\t\t<img className=\"looping_gallery_item-img\"\n\t\t\t\t\tonLoad={(e) => e.currentTarget.classList.add('loaded')}\n\t\t\t\t\tsrc={props.highResUrl}\n\t\t\t\t\talt={props.alt} />\n\t\t\t\t<div className=\"looping_gallery_item-text\">\n\t\t\t\t\t<Icon type=\"view\"/>\n\t\t\t\t\t<h5>{props.alt}<span>{props.type}</span></h5>\n\t\t\t\t</div>\n\t\t\t</div>\n\t)\n});\n\nexport default LoopingItem;\n"]},"metadata":{},"sourceType":"module"}