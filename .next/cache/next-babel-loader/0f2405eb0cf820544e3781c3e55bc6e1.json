{"ast":null,"code":"var _Promise = require(\"@babel/runtime-corejs2/core-js/promise\");\n\nconst nodemailer = require('nodemailer');\n\nconst fs = require('fs');\n\nconst transporter = nodemailer.createTransport({\n  pool: true,\n  host: \"smtprelaypool.ispgateway.de\",\n  port: 465,\n  secure: true,\n  // use TLS\n  auth: {\n    user: 'f.gozenc@narciss-taurus.de',\n    pass: '1rk3n84L>h8c'\n  }\n});\n\nconst send = props => {\n  console.log(props);\n  const name = props.contactType == 'contactForm' ? props.kontakt_name + \" \" + props.kontakt_surname : props.name + ' ' + props.surname;\n  const email = props.contactType == 'contactForm' ? props.kontakt_email : props.email;\n  const text = props.contactType == 'contactForm' ? `\n    \\r\\nKontaktdaten\\r\\n\n    Anrede: ${props.kontakt_anrede}\\r\\n\n    Vorname: ${props.kontakt_name}\\r\\n\n    Nachname: ${props.kontakt_surname}\\r\\n\n    E-Mail: ${props.kontakt_email}\\r\\n\n    Telefon: ${props.kontakt_phone}\\r\\n\n    Firma: ${props.kontakt_company}\\r\\n\n    Nachricht: ${props.event_nachricht}\\r\\n\n    \\r\\nEventinformationen\\r\\n\n    Art der Veranstaltung: ${props.event_type}\\r\\n\n    Location Auswahl: ${props.event_location}\\r\\n\n    Konkretes Datum?: ${props.event_date_answer}\\r\\n\n    Zeitraum (Wenn es kein konkretes Datum gibt): ${props.date_range}\\r\\n\n    Event Datum (Wenn es ein konkretes Datum gibt): ${props.eventdatum}\\r\\n\n    Event Ausweichtermin (Wenn es ein konkretes Datum gibt): ${props.ausweichtermin}\\r\\n\n    Event Beginn Zeit (Wenn es ein konkretes Datum gibt): ${props.eventzeitbeginn}\\r\\n\n    Event Ende Zeit (Wenn es ein konkretes Datum gibt): ${props.eventzeitend}\\r\\n\n    \\r\\nZusatzinformationen\\r\\n\n    Anzahl der Personen: ${props.personenzahl}\\r\\n\n    Maximal Budget?: ${props.event_max_budget}\\r\\n\n    \\r\\nGewünschte dienstleistungen\\r\\n\n    Speisenauswahl: ${props.lang === 'de' ? props.event_speisen : props.event_food}\\r\\n\n    Mobiliarauswahl: ${props.lang === 'de' ? props.event_mobiliar : props.event_furnishings}\\r\\n\n    Technikauswahl: ${props.lang === 'de' ? props.event_technik : props.event_technique}\\r\\n\n    Dekoauswahl: ${props.lang === 'de' ? props.event_deko : props.event_decoration}\\r\\n\n    Musikauswahl: ${props.lang === 'de' ? props.event_musik : props.event_music}\\r\\n\n  ` : `\n    \\r\\nKarriere Bewerbung\\r\\n\n    Vorname: ${props.name}\\r\\n\n    Nachname: ${props.surname}\\r\\n\n    E-Mail: ${props.email}\\r\\n\n    Berufliche Stellung: ${props.position}\\r\\n\n    Aktueller Jobsstatus: ${props.jobstatus}\\r\\n\n    Mögliches Start-Datum: ${props.startdate}\\r\\n\n    Nachricht: ${props.message}\\r\\n\n  `;\n  const sender = `${name} <${email}>`;\n  const message = {\n    from: 'f.gozenc@narciss-taurus.de',\n    to: 'f.gozenc@narciss-taurus.de',\n    subject: `Neu Nachricht von ${sender}`,\n    text,\n    attachments: [{\n      filename: props.attachment.name,\n      content: fs.createReadStream(props.attachment.path)\n    }],\n    replyTo: sender\n  };\n  return new _Promise((resolve, reject) => {\n    transporter.sendMail(message, (error, info) => error ? reject(error) : resolve(info));\n  });\n};\n\nmodule.exports = send;","map":{"version":3,"sources":["/Users/fatih/repos/goldendoor-next/kontaktMailer.js"],"names":["nodemailer","require","fs","transporter","createTransport","pool","host","port","secure","auth","user","pass","send","props","console","log","name","contactType","kontakt_name","kontakt_surname","surname","email","kontakt_email","text","kontakt_anrede","kontakt_phone","kontakt_company","event_nachricht","event_type","event_location","event_date_answer","date_range","eventdatum","ausweichtermin","eventzeitbeginn","eventzeitend","personenzahl","event_max_budget","lang","event_speisen","event_food","event_mobiliar","event_furnishings","event_technik","event_technique","event_deko","event_decoration","event_musik","event_music","position","jobstatus","startdate","message","sender","from","to","subject","attachments","filename","attachment","content","createReadStream","path","replyTo","resolve","reject","sendMail","error","info","module","exports"],"mappings":"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","sourcesContent":["const nodemailer = require('nodemailer')\nconst fs = require('fs');\nconst transporter = nodemailer.createTransport({\n  pool: true,\n  host: \"smtprelaypool.ispgateway.de\",\n  port: 465,\n  secure: true, // use TLS\n  auth: {\n    user: 'f.gozenc@narciss-taurus.de',\n    pass: '1rk3n84L>h8c'\n  }\n});\n\nconst send = (props) => {\n  console.log(props)\n  const name = props.contactType == 'contactForm' ? (props.kontakt_name + \" \" + props.kontakt_surname) : props.name + ' ' + props.surname;\n  const email = props.contactType == 'contactForm' ? props.kontakt_email : props.email;\n  const text = props.contactType == 'contactForm' ? (`\n    \\r\\nKontaktdaten\\r\\n\n    Anrede: ${props.kontakt_anrede}\\r\\n\n    Vorname: ${props.kontakt_name}\\r\\n\n    Nachname: ${props.kontakt_surname}\\r\\n\n    E-Mail: ${props.kontakt_email}\\r\\n\n    Telefon: ${props.kontakt_phone}\\r\\n\n    Firma: ${props.kontakt_company}\\r\\n\n    Nachricht: ${props.event_nachricht}\\r\\n\n    \\r\\nEventinformationen\\r\\n\n    Art der Veranstaltung: ${props.event_type}\\r\\n\n    Location Auswahl: ${props.event_location}\\r\\n\n    Konkretes Datum?: ${props.event_date_answer}\\r\\n\n    Zeitraum (Wenn es kein konkretes Datum gibt): ${props.date_range}\\r\\n\n    Event Datum (Wenn es ein konkretes Datum gibt): ${props.eventdatum}\\r\\n\n    Event Ausweichtermin (Wenn es ein konkretes Datum gibt): ${props.ausweichtermin}\\r\\n\n    Event Beginn Zeit (Wenn es ein konkretes Datum gibt): ${props.eventzeitbeginn}\\r\\n\n    Event Ende Zeit (Wenn es ein konkretes Datum gibt): ${props.eventzeitend}\\r\\n\n    \\r\\nZusatzinformationen\\r\\n\n    Anzahl der Personen: ${props.personenzahl}\\r\\n\n    Maximal Budget?: ${props.event_max_budget}\\r\\n\n    \\r\\nGewünschte dienstleistungen\\r\\n\n    Speisenauswahl: ${props.lang === 'de' ? props.event_speisen : props.event_food}\\r\\n\n    Mobiliarauswahl: ${props.lang === 'de' ? props.event_mobiliar : props.event_furnishings}\\r\\n\n    Technikauswahl: ${props.lang === 'de' ? props.event_technik : props.event_technique}\\r\\n\n    Dekoauswahl: ${props.lang === 'de' ? props.event_deko : props.event_decoration}\\r\\n\n    Musikauswahl: ${props.lang === 'de' ? props.event_musik : props.event_music}\\r\\n\n  `) : ( `\n    \\r\\nKarriere Bewerbung\\r\\n\n    Vorname: ${props.name}\\r\\n\n    Nachname: ${props.surname}\\r\\n\n    E-Mail: ${props.email}\\r\\n\n    Berufliche Stellung: ${props.position}\\r\\n\n    Aktueller Jobsstatus: ${props.jobstatus}\\r\\n\n    Mögliches Start-Datum: ${props.startdate}\\r\\n\n    Nachricht: ${props.message}\\r\\n\n  `\n  );\n  const sender = `${name} <${email}>`;\n  const message = {\n    from: 'f.gozenc@narciss-taurus.de',\n    to: 'f.gozenc@narciss-taurus.de',\n    subject: `Neu Nachricht von ${sender}`,\n    text,\n    attachments: [\n      {\n        filename: props.attachment.name,\n        content: fs.createReadStream(props.attachment.path)\n      }\n    ],\n    replyTo: sender\n  }\n\n  return new Promise((resolve, reject) => {\n    transporter.sendMail(message, (error, info) =>\n      error ? reject(error) : resolve(info)\n    )\n  })\n}\n\nmodule.exports = send"]},"metadata":{},"sourceType":"script"}